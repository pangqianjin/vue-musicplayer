(function(e){function n(n){for(var a,l,r=n[0],c=n[1],u=n[2],d=0,p=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&p.push(o[l][0]),o[l]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);s&&s(n);while(p.length)p.shift()();return i.push.apply(i,u||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],a=!0,r=1;r<t.length;r++){var c=t[r];0!==o[c]&&(a=!1)}a&&(i.splice(n--,1),e=l(l.s=t[0]))}return e}var a={},o={app:0},i=[];function l(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=a,l.d=function(e,n,t){l.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,n){if(1&n&&(e=l(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)l.d(t,a,function(n){return e[n]}.bind(null,a));return t},l.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(n,"a",n),n},l.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=n,r=r.slice();for(var u=0;u<r.length;u++)n(r[u]);var s=c;i.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},1332:function(e,n,t){},"4b46":function(e,n,t){"use strict";t("ab46")},"56d7":function(e,n,t){"use strict";t.r(n);t("0fb7"),t("450d");var a=t("f529"),o=t.n(a),i=(t("10cb"),t("f3ad")),l=t.n(i),r=(t("5466"),t("ecdf")),c=t.n(r),u=(t("38a0"),t("ad41")),s=t.n(u),d=(t("1951"),t("eedf")),p=t.n(d),f=(t("f4f9"),t("c2cc")),m=t.n(f),g=(t("7a0f"),t("0f6c")),h=t.n(g),y=(t("8bd8"),t("4cb2")),b=t.n(y),v=(t("3c52"),t("0d7b")),x=t.n(v),w=(t("fe07"),t("6ac5")),S=t.n(w),j=(t("4ca3"),t("443e")),O=t.n(j),k=(t("a769"),t("5cc3")),P=t.n(k),_=(t("de31"),t("c69e")),C=t.n(_),U=(t("adec"),t("3d2d")),R=t.n(U),$=(t("bdc7"),t("aa2f")),L=t.n($),T=(t("e260"),t("e6cf"),t("cca6"),t("a79d"),t("b0c0"),t("2b0e")),M=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-container",[t("el-container",[t("my-aside"),t("router-view")],1),t("el-footer",[t("my-footer")],1)],1)},N=[],A=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-aside",[t("el-radio-group",{staticStyle:{"margin-bottom":"20px"},model:{value:e.isCollapse,callback:function(n){e.isCollapse=n},expression:"isCollapse"}},[t("el-radio-button",{attrs:{label:!1}},[e._v("展开")]),t("el-radio-button",{attrs:{label:!0}},[e._v("收起")])],1),t("el-menu",{staticClass:"el-menu-vertical",attrs:{collapse:e.isCollapse,"default-active":"1"}},[t("el-menu-item",{attrs:{index:"1"},on:{click:function(n){return e.jumpTo(1)}}},[t("i",{staticClass:"el-icon-headset"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("本地音乐")])]),t("el-menu-item",{attrs:{index:"2"},on:{click:function(n){return e.jumpTo(2)}}},[t("i",{staticClass:"el-icon-s-unfold"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("播放列表")])]),t("el-menu-item",{attrs:{index:"3"},on:{click:function(n){return e.jumpTo(3)}}},[t("i",{staticClass:"el-icon-time"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("最近播放")])])],1)],1)},E=[],F=(t("ac1f"),t("5319"),{data:function(){return{isCollapse:!1}},methods:{jumpTo:function(e){var n=1===e?"/localmusic":2===e?"/playingmusic":"/playedmusic";this.$route.path!==n&&this.$router.replace(n)}}}),J=F,z=(t("f7da"),t("2877")),D=Object(z["a"])(J,A,E,!1,null,null,null),q=D.exports,B=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-row",[t("el-col",{attrs:{span:5}},[t("strong",[e._v(e._s(e.musicName))])]),t("el-col",{attrs:{span:1}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-caret-left",circle:""},on:{click:function(n){return e.handlePreNext(-1)}}})],1),t("el-col",{attrs:{span:1}},[t("el-button",{attrs:{type:"primary",icon:e.isPlaying?"el-icon-video-pause":"el-icon-video-play",circle:""},on:{click:e.handlePlaying}})],1),t("el-col",{attrs:{span:1}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-caret-right",circle:""},on:{click:function(n){return e.handlePreNext(1)}}})],1)],1)},G=[],H=t("5530"),I=t("2f62"),K={computed:Object(H["a"])(Object(H["a"])({},Object(I["c"])(["isPlaying","index","localSongs","playingSongs"])),{},{musicName:function(){return 0===this.playingSongs.length?"未知":this.playingSongs[this.index].name}}),methods:Object(H["a"])(Object(H["a"])({},Object(I["b"])(["handlePlaying","handleClickSong"])),{},{handlePreNext:function(e){var n=this.index+e;n>=0&&n<this.playingSongs.length&&this.handleClickSong({index:n,audio:this.playingSongs[n].audio,name:this.playingSongs[this.index].name})}})},Q=K,V=(t("4b46"),Object(z["a"])(Q,B,G,!1,null,null,null)),W=V.exports,X={name:"App",components:{MyAside:q,MyFooter:W}},Y=X,Z=Object(z["a"])(Y,M,N,!1,null,null,null),ee=Z.exports;T["default"].use(I["a"]);var ne=new I["a"].Store({state:{audio:new Audio,isPlaying:!1,localSongs:[],playingSongs:[],playedSongs:[],index:-1},getters:{isPlaying:function(e){return e.isPlaying},localSongs:function(e){return e.localSongs},playingSongs:function(e){return e.playingSongs},playedSongs:function(e){return e.playedSongs},index:function(e){return e.index}},mutations:{handlePlaying:function(e){e.isPlaying?e.audio.pause():e.audio.play(),e.isPlaying=!e.isPlaying},handleUpload:function(e,n){e.localSongs=n},handlePlay:function(e){e.isPlaying?e.audio.pause():e.audio.play(),e.isPlaying=!e.isPlaying},handleClickSong:function(e,n){var t=n.index,a=n.audio,o=n.name;e.audio.load(),e.audio=a,e.index=t,e.isPlaying=!0,e.audio.play(),e.playedSongs.push({name:o,audio:a}),e.playingSongs.some((function(e){return e.name===o}))||(e.playingSongs.push({name:o,audio:a}),e.index=e.index+1)}},actions:{handlePlaying:function(e){var n=e.commit;n("handlePlaying")},handleUpload:function(e,n){var t=e.commit;t("handleUpload",n)},handlePlay:function(e){var n=e.commit;n("handlePlay")},handleClickSong:function(e,n){var t=e.commit,a=n.index,o=n.audio,i=n.name;t("handleClickSong",{index:a,audio:o,name:i})}}}),te=t("8c4f"),ae=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.songs,height:"70vh"}},[t("el-table-column",{attrs:{label:"名称",prop:"name"}}),t("el-table-column",{attrs:{label:"时长",prop:"duration"}}),t("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(n){return[t("el-button",{attrs:{type:"primary"},on:{click:e.upload}},[e._v("导入本地")])]}},{key:"default",fn:function(n){return[t("el-button",{attrs:{size:"mini",icon:"el-icon-video-play"},on:{click:function(t){return e.play(n.$index,n.row)}}})]}}])})],1)},oe=[],ie=t("1da1"),le=(t("96cf"),t("668b")),re=(t("d3b7"),t("ddb0"),t("1276"),t("caad"),t("3ca3"),t("2b3d"),t("2532"),function(){var e=Object(ie["a"])(regeneratorRuntime.mark((function e(){var n,t,a,o,i,l,r,c,u,s,d,p,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],t=["mp3","flac","aac","ape"],e.next=4,window.showDirectoryPicker();case 4:a=e.sent,o=!0,i=!1,e.prev=7,r=Object(le["a"])(a.values());case 9:return e.next=11,r.next();case 11:return c=e.sent,o=c.done,e.next=15,c.value;case 15:if(u=e.sent,o){e.next=29;break}if(s=u,d=s.name.split(".")[1],"file"!==s.kind||!t.includes(d)){e.next=26;break}return p="",e.next=23,s.getFile();case 23:f=e.sent,void 0!=window.createObjectURL?p=window.createObjectURL(f):void 0!=window.webkitURL?p=window.webkitURL.createObjectURL(f):void 0!=window.URL&&(p=window.URL.createObjectURL(f)),n.push({name:s.name,audio:new Audio(p)});case 26:o=!0,e.next=9;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e["catch"](7),i=!0,l=e.t0;case 35:if(e.prev=35,e.prev=36,o||null==r.return){e.next=40;break}return e.next=40,r.return();case 40:if(e.prev=40,!i){e.next=43;break}throw l;case 43:return e.finish(40);case 44:return e.finish(35);case 45:return e.abrupt("return",n);case 46:case"end":return e.stop()}}),e,null,[[7,31,35,45],[36,,40,44]])})));return function(){return e.apply(this,arguments)}}()),ce={computed:Object(H["a"])(Object(H["a"])({},Object(I["c"])(["index","localSongs","playingSongs","playedSongs"])),{},{songs:function(){switch(this.$route.path){case"/playingmusic":return this.playingSongs;case"/playedmusic":return this.playedSongs;default:return this.localSongs}}}),methods:Object(H["a"])(Object(H["a"])({},Object(I["b"])(["handlePlay","handleClickSong","handleUpload"])),{},{play:function(e,n){console.log({index:this.index,audio:n.audio,name:n.name}),this.handleClickSong({index:this.index,audio:n.audio,name:n.name})},upload:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.$message("加载中，请等候..."),n.t0=e,n.next=4,re();case 4:n.t1=n.sent,n.t0.handleUpload.call(n.t0,n.t1);case 6:case"end":return n.stop()}}),n)})))()}})},ue=ce,se=(t("6ad6"),Object(z["a"])(ue,ae,oe,!1,null,null,null)),de=se.exports;T["default"].use(te["a"]);var pe=new te["a"]({routes:[{path:"/localmusic",component:de},{path:"/playingmusic",component:de},{path:"/playedmusic",component:de},{path:"/",redirect:"/localmusic"}]});T["default"].component(L.a.name,L.a),T["default"].component(R.a.name,R.a),T["default"].component(C.a.name,C.a),T["default"].component(P.a.name,P.a),T["default"].component(O.a.name,O.a),T["default"].component(S.a.name,S.a),T["default"].component(x.a.name,x.a),T["default"].component(b.a.name,b.a),T["default"].component(h.a.name,h.a),T["default"].component(m.a.name,m.a),T["default"].component(p.a.name,p.a),T["default"].component(s.a.name,s.a),T["default"].component(c.a.name,c.a),T["default"].component(l.a.name,l.a),T["default"].component(o.a.name,o.a),T["default"].prototype.$message=o.a,T["default"].config.productionTip=!1,new T["default"]({store:ne,router:pe,render:function(e){return e(ee)}}).$mount("#app")},"6ad6":function(e,n,t){"use strict";t("1332")},"992b":function(e,n,t){},ab46:function(e,n,t){},f7da:function(e,n,t){"use strict";t("992b")}});
//# sourceMappingURL=app.f7a06ab5.js.map